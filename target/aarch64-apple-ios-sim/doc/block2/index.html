<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Apple’s C language extension of blocks"><title>block2 - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="block2" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0-nightly (b925a865e 2025-10-09)" data-channel="nightly" data-search-js="search-8d3311b9.js" data-stringdex-js="stringdex-828709d0.js" data-settings-js="settings-c38705f0.js" ><script src="../static.files/storage-e2aeef58.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Crate block2</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../block2/index.html">block2</a><span class="version">0.6.2</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#apples-c-language-extension-of-blocks" title="Apple’s C language extension of blocks">Apple’s C language extension of blocks</a><ul><li><a href="#using-blocks" title="Using blocks">Using blocks</a></li><li><a href="#my-block-isnt-being-run" title="My block isn’t being run?">My block isn’t being run?</a></li><li><a href="#lifetimes" title="Lifetimes">Lifetimes</a></li><li><a href="#thread-safety" title="Thread safety">Thread safety</a></li><li><a href="#mutability" title="Mutability">Mutability</a></li><li><a href="#external-functions-using-blocks" title="External functions using blocks">External functions using blocks</a></li><li><a href="#invoking-blocks" title="Invoking blocks">Invoking blocks</a></li><li><a href="#specifying-a-runtime" title="Specifying a runtime">Specifying a runtime</a></li><li><a href="#c-compiler-configuration" title="C Compiler configuration">C Compiler configuration</a></li></ul></li></ul><h3><a href="#modules">Crate Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#macros" title="Macros">Macros</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>block2</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/block2/lib.rs.html#1-456">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="apples-c-language-extension-of-blocks"><a class="doc-anchor" href="#apples-c-language-extension-of-blocks">§</a>Apple’s C language extension of blocks</h2>
<p>C Blocks are functions which capture their environments, i.e. the
C-equivalent of Rust’s <a href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn"><code>Fn</code></a> closures. As they were originally developed
by Apple, they’re often used in Objective-C code. This crate provides
capabilities to create, manage and invoke these blocks, in an ergonomic,
“Rust-centric” fashion.</p>
<p>At a high level, this crate contains four types, each representing
different kinds of blocks, and different kinds of ownership.</p>
<div><table><thead><tr><th><code>block2</code> type</th><th>Equivalent Rust type</th></tr></thead><tbody>
<tr><td><code>&amp;Block&lt;dyn Fn() + 'a&gt;</code></td><td><code>&amp;dyn Fn() + 'a</code></td></tr>
<tr><td><code>RcBlock&lt;dyn Fn() + 'a&gt;</code></td><td><code>Arc&lt;dyn Fn() + 'a&gt;</code></td></tr>
<tr><td><code>StackBlock&lt;'a, (), (), impl Fn() + 'a&gt;</code></td><td><code>impl Fn() + 'a</code></td></tr>
<tr><td><code>GlobalBlock&lt;dyn Fn()&gt;</code></td><td><a href="https://doc.rust-lang.org/reference/types/function-item.html"><code>fn</code> item</a></td></tr>
</tbody></table>
</div>
<p>For more information on the specifics of the block implementation, see the
<a href="https://clang.llvm.org/docs/BlockLanguageSpec.html">C language specification</a> and the <a href="http://clang.llvm.org/docs/Block-ABI-Apple.html">ABI specification</a>.</p>
<h3 id="using-blocks"><a class="doc-anchor" href="#using-blocks">§</a>Using blocks</h3>
<p>You can create a new block from a closure using <a href="struct.RcBlock.html#method.new" title="associated function block2::RcBlock::new"><code>RcBlock::new</code></a>. This can
then be used to call functions or Objective-C methods that takes a block:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>block2::RcBlock;

<span class="kw">let </span>val = <span class="number">5</span>;
<span class="kw">let </span>block = RcBlock::new(<span class="kw">move </span>|a, b| a + b + val);
obj.someMethod(<span class="kw-2">&amp;</span>block);</code></pre></div><h3 id="my-block-isnt-being-run"><a class="doc-anchor" href="#my-block-isnt-being-run">§</a>My block isn’t being run?</h3>
<p>Most of the time, blocks are used to do asynchronous work; but just like
futures in Rust don’t do anything unless polled, a lot of Apple APIs won’t
call your block unless a <a href="objc2::topics::run_loop">run loop</a> is active, see that link for
more information on how to do so.</p>
<h3 id="lifetimes"><a class="doc-anchor" href="#lifetimes">§</a>Lifetimes</h3>
<p>When dealing with blocks, there can be quite a few lifetimes to keep in
mind.</p>
<p>The most important one is the lifetime of the block’s data, i.e. the
lifetime of the data in the closure contained in the block. This lifetime
can be specified as <code>'f</code> in <code>&amp;Block&lt;dyn Fn() + 'f&gt;</code>.</p>
<p>Note that <code>&amp;Block&lt;dyn Fn()&gt;</code>, without any lifetime specifier, can be a bit
confusing, as the default depends on where it is typed. In function/method
signatures, it defaults to <code>'static</code>, but as the type of e.g. a <code>let</code>
binding, the lifetime may be inferred to be something smaller, see <a href="https://doc.rust-lang.org/reference/lifetime-elision.html#default-trait-object-lifetimes">the
reference</a> for details. If in doubt, either add a
<code>+ 'static</code> or <code>+ '_</code> to force an escaping or non-escaping block.</p>
<p>Another lifetime is the lifetime of the currently held pointer, i.e. <code>'b</code>
in <code>&amp;'b Block&lt;dyn Fn()&gt;</code>. This lifetime can be safely extended using
<a href="struct.Block.html#method.copy" title="method block2::Block::copy"><code>Block::copy</code></a>, so should prove to be little trouble (of course the
lifetime still can’t be extended past the lifetime of the captured data
above).</p>
<p>Finally, the block’s parameter and return types can also contain
lifetimes, as <code>'a</code> and <code>'r</code> in <code>&amp;Block&lt;dyn Fn(&amp;'a i32) -&gt; &amp;'r u32&gt;</code>.
Unfortunately, these lifetimes are quite problematic and unsupported at
the moment, due to Rust trait limitations regarding higher-ranked trait
bounds. If you run into problems with this in a block that takes or
returns a reference, consider using the ABI-compatible <code>NonNull&lt;T&gt;</code>, or
transmute to a <code>'static</code> lifetime.</p>
<h3 id="thread-safety"><a class="doc-anchor" href="#thread-safety">§</a>Thread safety</h3>
<p>Thread-safe blocks are not yet representable in <code>block2</code>, and as such any
function that requires a thread-safe block must be marked <code>unsafe</code>.</p>
<h3 id="mutability"><a class="doc-anchor" href="#mutability">§</a>Mutability</h3>
<p>Blocks are generally assumed to be shareable, and as such can only very
rarely be made mutable.</p>
<p>You will likely have to use interior mutability helpers like <a href="https://doc.rust-lang.org/nightly/core/cell/struct.RefCell.html" title="struct core::cell::RefCell"><code>RefCell</code></a>
or <a href="https://doc.rust-lang.org/nightly/core/cell/struct.Cell.html" title="struct core::cell::Cell"><code>Cell</code></a> instead, see below.</p>
<h4 id="transforming-fnmut-to-a-block"><a class="doc-anchor" href="#transforming-fnmut-to-a-block">§</a>Transforming <a href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut"><code>FnMut</code></a> to a block</h4>
<p>Mutable closures differs from immutable ones in part in that they need to
avoid re-entrancy.</p>
<p>The below example transforms <a href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut"><code>FnMut</code></a> to <a href="https://doc.rust-lang.org/nightly/core/ops/function/trait.Fn.html" title="trait core::ops::function::Fn"><code>Fn</code></a> using a <a href="https://doc.rust-lang.org/nightly/core/cell/struct.RefCell.html" title="struct core::cell::RefCell"><code>RefCell</code></a>. We
do not include this function as part of the public API of <code>block2</code>, as the
specifics are very dependent on your use-case, and can be optimized with
e.g. a <a href="https://doc.rust-lang.org/nightly/core/cell/struct.Cell.html" title="struct core::cell::Cell"><code>Cell</code></a> if your closure is <a href="https://doc.rust-lang.org/nightly/core/marker/trait.Copy.html" title="trait core::marker::Copy"><code>Copy</code></a> or if you do not care about
unwind safety, or with <a href="https://doc.rust-lang.org/nightly/core/cell/struct.UnsafeCell.html" title="struct core::cell::UnsafeCell"><code>UnsafeCell</code></a> if you are able to unsafely
guarantee the absence of re-entrancy.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::cell::RefCell;
<span class="kw">use </span>block2::RcBlock;

<span class="kw">fn </span>fnmut_to_fn(closure: <span class="kw">impl </span>FnMut()) -&gt; <span class="kw">impl </span>Fn() {
    <span class="kw">let </span>cell = RefCell::new(closure);

    <span class="kw">move </span>|| {
        <span class="kw">let </span><span class="kw-2">mut </span>closure = cell.try_borrow_mut().expect(<span class="string">"re-entrant call"</span>);
        (closure)()
    }
}

<span class="kw">let </span><span class="kw-2">mut </span>x = <span class="number">0</span>;
<span class="kw">let </span>b = RcBlock::new(fnmut_to_fn(|| {
    x += <span class="number">1</span>;
}));
b.call(());
b.call(());
drop(b);
<span class="macro">assert_eq!</span>(x, <span class="number">2</span>);</code></pre></div><h4 id="transforming-fnonce-to-a-block"><a class="doc-anchor" href="#transforming-fnonce-to-a-block">§</a>Transforming <a href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce"><code>FnOnce</code></a> to a block</h4>
<p><a href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnOnce.html" title="trait core::ops::function::FnOnce"><code>FnOnce</code></a> is similar to <a href="https://doc.rust-lang.org/nightly/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut"><code>FnMut</code></a> in that we must protect against
re-entrancy, with the addition that it can also only be called once.</p>
<p>Ensuring that it can be called once can be done by taking the closure
out of an <a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option"><code>Option</code></a> as shown in the example below. We can use <a href="https://doc.rust-lang.org/nightly/core/cell/struct.Cell.html" title="struct core::cell::Cell"><code>Cell</code></a>
instead of <a href="https://doc.rust-lang.org/nightly/core/cell/struct.RefCell.html" title="struct core::cell::RefCell"><code>RefCell</code></a> here, since we never need to put the closure “back”
for later use (like we need to do with <code>FnMut</code> above).</p>
<p>In certain cases you may be able to do micro-optimizations, namely to use
a <a href="https://doc.rust-lang.org/nightly/core/mem/manually_drop/struct.ManuallyDrop.html" title="struct core::mem::manually_drop::ManuallyDrop"><code>ManuallyDrop</code></a>, if you wanted to optimize with the assumption that the
block is always called, or <a href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html#method.unwrap_unchecked" title="method core::option::Option::unwrap_unchecked"><code>unwrap_unchecked</code></a> if you wanted to optimize
with the assumption that it is only called once.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>std::cell::Cell;
<span class="kw">use </span>block2::RcBlock;

<span class="kw">fn </span>fnonce_to_fn(closure: <span class="kw">impl </span>FnOnce()) -&gt; <span class="kw">impl </span>Fn() {
    <span class="kw">let </span>cell = Cell::new(<span class="prelude-val">Some</span>(closure));
    <span class="kw">move </span>|| {
        <span class="kw">let </span>closure = cell.take().expect(<span class="string">"called twice"</span>);
        closure()
    }
}

<span class="kw">let </span>v = <span class="macro">vec!</span>[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];
<span class="kw">let </span>b = RcBlock::new(fnonce_to_fn(<span class="kw">move </span>|| {
    drop(v);
}));
b.call(());</code></pre></div><h3 id="external-functions-using-blocks"><a class="doc-anchor" href="#external-functions-using-blocks">§</a>External functions using blocks</h3>
<p>To declare external functions or methods that takes blocks, use
<code>&amp;Block&lt;dyn Fn(Params) -&gt; R&gt;</code> or <code>Option&lt;&amp;Block&lt;dyn Fn(Args) -&gt; R&gt;&gt;</code>,
where <code>Params</code> is the parameter types, and <code>R</code> is the return type.</p>
<p>For this example, consider the function <code>check_addition</code> which takes a
single parameter, namely a block that adds two integers, and then checks
that the addition is correct.</p>
<p>Such a function could be written in C like in the following.</p>
<div class="example-wrap"><pre class="language-objc"><code>#include &lt;cassert&gt;
#include &lt;stdint.h&gt;
#include &lt;Block.h&gt;

void check_addition(int32_t (^block)(int32_t, int32_t)) {
    assert(block(5, 8) == 13);
}</code></pre></div>
<p>An <code>extern "C" { ... }</code> declaration for that function would then be:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>block2::Block;

<span class="kw">extern </span><span class="string">"C" </span>{
    <span class="kw">fn </span>check_addition(block: <span class="kw-2">&amp;</span>Block&lt;<span class="kw">dyn </span>Fn(i32, i32) -&gt; i32&gt;);
}</code></pre></div>
<p>This can similarly be done for Objcective-C methods declared with
<a href="../objc2/macro.extern_methods.html" title="macro objc2::extern_methods"><code>objc2::extern_methods!</code></a> (though most of the time, the <a href="objc2::topics::about_generated">framework
crates</a> will take care of that for you).</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>block2::Block;
<span class="kw">use </span>objc2::extern_methods;

<span class="kw">impl </span>MyClass {
    <span class="macro">extern_methods!</span>(
        <span class="attr">#[<span class="kw">unsafe</span>(method(checkAddition:))]
        </span><span class="kw">pub fn </span>checkAddition(<span class="kw-2">&amp;</span><span class="self">self</span>, block: <span class="kw-2">&amp;</span>Block&lt;<span class="kw">dyn </span>Fn(i32, i32) -&gt; i32&gt;);
    );
}</code></pre></div>
<p>If the function/method allows passing <code>NULL</code> blocks, the type should be
<code>Option&lt;&amp;Block&lt;dyn Fn(i32, i32) -&gt; i32&gt;&gt;</code> instead.</p>
<h3 id="invoking-blocks"><a class="doc-anchor" href="#invoking-blocks">§</a>Invoking blocks</h3>
<p>We can also define the external function in Rust, and expose it to
Objective-C. To do this, we can use <a href="struct.Block.html#method.call" title="method block2::Block::call"><code>Block::call</code></a> to invoke the block
inside the function.</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>block2::Block;

<span class="attr">#[no_mangle]
</span><span class="kw">extern </span><span class="string">"C" </span><span class="kw">fn </span>check_addition(block: <span class="kw-2">&amp;</span>Block&lt;<span class="kw">dyn </span>Fn(i32, i32) -&gt; i32&gt;) {
    <span class="macro">assert_eq!</span>(block.call((<span class="number">5</span>, <span class="number">8</span>)), <span class="number">13</span>);
}</code></pre></div>
<p>Note the extra parentheses in the <code>call</code> method, since the arguments must
be passed as a tuple.</p>
<h3 id="specifying-a-runtime"><a class="doc-anchor" href="#specifying-a-runtime">§</a>Specifying a runtime</h3>
<p>Different runtime implementations exist and act in slightly different ways
(and have several different helper functions), the most important aspect
being that the libraries are named differently, so we must take that into
account when linking.</p>
<p>You can choose the desired runtime by using the relevant cargo feature
flags, see the following sections.</p>
<h4 id="apples-libclosure"><a class="doc-anchor" href="#apples-libclosure">§</a>Apple’s <a href="https://github.com/apple-oss-distributions/libclosure"><code>libclosure</code></a></h4>
<p>This is the most common and most sophisticated runtime, and it has quite a
lot more features than the specification mandates.</p>
<p>The minimum required operating system versions are as follows (though in
practice Rust itself requires higher versions than this):</p>
<ul>
<li>macOS: <code>10.6</code></li>
<li>iOS/iPadOS: <code>3.2</code></li>
<li>tvOS: <code>1.0</code></li>
<li>watchOS: <code>1.0</code></li>
</ul>
<p><strong>This is used by default</strong>, so you do not need to specify a runtime if
you’re using this crate on of these platforms.</p>
<h4 id="llvm-compiler-rts-libblocksruntime"><a class="doc-anchor" href="#llvm-compiler-rts-libblocksruntime">§</a>LLVM <code>compiler-rt</code>’s <a href="https://github.com/llvm/llvm-project/tree/release/13.x/compiler-rt/lib/BlocksRuntime"><code>libBlocksRuntime</code></a></h4>
<ul>
<li>Feature flag: <code>compiler-rt</code>.</li>
</ul>
<p>This is a copy of Apple’s older (around macOS 10.6) runtime, and is now
used in <a href="https://github.com/apple/swift-corelibs-libdispatch/tree/swift-5.5.1-RELEASE/src/BlocksRuntime">Swift’s <code>libdispatch</code></a> and <a href="https://github.com/apple/swift-corelibs-foundation/tree/swift-5.5.1-RELEASE/Sources/BlocksRuntime">Swift’s Foundation</a> as well.</p>
<p>The runtime and associated headers can be installed on many Linux systems
with the <code>libblocksruntime-dev</code> package.</p>
<p>Using this runtime probably won’t work together with <code>objc2</code> crate.</p>
<h4 id="gnusteps-libobjc2"><a class="doc-anchor" href="#gnusteps-libobjc2">§</a>GNUStep’s <a href="https://github.com/gnustep/libobjc2"><code>libobjc2</code></a></h4>
<ul>
<li>Feature flag: <code>gnustep-1-7</code>, <code>gnustep-1-8</code>, <code>gnustep-1-9</code>, <code>gnustep-2-0</code>
and <code>gnustep-2-1</code> depending on the version you’re using.</li>
</ul>
<p>GNUStep is a bit odd, because it bundles blocks support into its
Objective-C runtime. This means we have to link to <code>libobjc</code>, and this is
done by depending on the <code>objc2</code> crate. A bit unorthodox, yes, but it
works.</p>
<p>Sources:</p>
<ul>
<li><a href="https://github.com/gnustep/libobjc2/blob/v2.1/objc/blocks_runtime.h"><code>Block.h</code></a></li>
<li><a href="https://github.com/gnustep/libobjc2/blob/v2.1/objc/blocks_private.h"><code>Block_private.h</code></a></li>
</ul>
<h4 id="microsofts-winobjc"><a class="doc-anchor" href="#microsofts-winobjc">§</a>Microsoft’s <a href="https://github.com/microsoft/WinObjC"><code>WinObjC</code></a></h4>
<ul>
<li>Feature flag: <code>unstable-winobjc</code>.</li>
</ul>
<p><strong>Unstable: Hasn’t been tested on Windows yet!</strong></p>
<p><a href="https://github.com/microsoft/libobjc2">A fork</a> based on GNUStep’s <code>libobjc2</code>
version 1.8.</p>
<h4 id="objfw"><a class="doc-anchor" href="#objfw">§</a><a href="https://github.com/ObjFW/ObjFW"><code>ObjFW</code></a></h4>
<ul>
<li>Feature flag: <code>unstable-objfw</code>.</li>
</ul>
<p><strong>Unstable: Doesn’t work yet!</strong></p>
<h3 id="c-compiler-configuration"><a class="doc-anchor" href="#c-compiler-configuration">§</a>C Compiler configuration</h3>
<p>To our knowledge, only Clang supports blocks. To compile C or Objective-C
sources using these features, you should set <a href="https://clang.llvm.org/docs/ClangCommandLineReference.html#cmdoption-clang-fblocks">the <code>-fblocks</code> flag</a>.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="ffi/index.html" title="mod block2::ffi">ffi</a></dt><dd>Raw bindings to <code>Block.h</code></dd></dl><h2 id="macros" class="section-header">Macros<a href="#macros" class="anchor">§</a></h2><dl class="item-table"><dt><a class="macro" href="macro.global_block.html" title="macro block2::global_block">global_<wbr>block</a></dt><dd>Construct a static <a href="struct.GlobalBlock.html" title="struct block2::GlobalBlock"><code>GlobalBlock</code></a>.</dd></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.Block.html" title="struct block2::Block">Block</a></dt><dd>An opaque type that holds an Objective-C block.</dd><dt><a class="struct" href="struct.GlobalBlock.html" title="struct block2::GlobalBlock">Global<wbr>Block</a></dt><dd>A global Objective-C block that does not capture an environment.</dd><dt><a class="struct" href="struct.RcBlock.html" title="struct block2::RcBlock">RcBlock</a></dt><dd>A reference-counted Objective-C block that is stored on the heap.</dd><dt><a class="struct" href="struct.StackBlock.html" title="struct block2::StackBlock">Stack<wbr>Block</a></dt><dd>An Objective-C block constructed on the stack.</dd></dl><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><dl class="item-table"><dt><a class="trait" href="trait.BlockFn.html" title="trait block2::BlockFn">BlockFn</a></dt><dd>Types that represent closure parameters/arguments and return types in a
block.</dd><dt><a class="trait" href="trait.IntoBlock.html" title="trait block2::IntoBlock">Into<wbr>Block</a></dt><dd>Types that may be converted into a block.</dd><dt><a class="trait" href="trait.ManualBlockEncoding.html" title="trait block2::ManualBlockEncoding">Manual<wbr>Block<wbr>Encoding</a></dt><dd>Interim abstraction to manually provide block encodings for use at compile
time with <a href="struct.StackBlock.html#method.with_encoding" title="associated function block2::StackBlock::with_encoding"><code>StackBlock::with_encoding</code></a> and <a href="struct.RcBlock.html#method.with_encoding" title="associated function block2::RcBlock::with_encoding"><code>RcBlock::with_encoding</code></a>.</dd></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">§</a></h2><dl class="item-table"><dt><a class="type" href="type.ConcreteBlock.html" title="type block2::ConcreteBlock">Concrete<wbr>Block</a><wbr><span class="stab deprecated" title="">Deprecated</span></dt><dd>Deprecated alias for a <code>'static</code> <code>StackBlock</code>.</dd><dt><a class="type" href="type.DynBlock.html" title="type block2::DynBlock">DynBlock</a></dt><dd>Helper type to allow changing <a href="struct.Block.html" title="struct block2::Block"><code>Block</code></a> in the future without affecting
framework crates.</dd></dl></section></div></main></body></html>