<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Cargo features and long compile-times in framework crates"><title>objc2::topics::about_generated::cargo_features - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../../../" data-static-root-path="../../../../static.files/" data-current-crate="objc2" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0-nightly (b925a865e 2025-10-09)" data-channel="nightly" data-search-js="search-8d3311b9.js" data-stringdex-js="stringdex-828709d0.js" data-settings-js="settings-c38705f0.js" ><script src="../../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module cargo_features</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../../objc2/index.html">objc2</a><span class="version">0.6.3</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module cargo_<wbr>features</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#cargo-features-and-long-compile-times-in-framework-crates" title="Cargo features and long compile-times in framework crates">Cargo features and long compile-times in framework crates</a><ul><li><a href="#file-features" title="File features">File features</a></li><li><a href="#dependency-features" title="Dependency features">Dependency features</a></li></ul></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In objc2::<wbr>topics::<wbr>about_<wbr>generated</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../../index.html">objc2</a>::<wbr><a href="../../index.html">topics</a>::<wbr><a href="../index.html">about_generated</a></div><h1>Module <span>cargo_<wbr>features</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../../src/objc2/topics/about_generated/mod.rs.html#12">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="cargo-features-and-long-compile-times-in-framework-crates"><a class="doc-anchor" href="#cargo-features-and-long-compile-times-in-framework-crates">§</a>Cargo features and long compile-times in framework crates</h2>
<p>Each framework crate has a set of Cargo features that control which parts of
it that is enabled. These are split into two categories; file and dependency
features.</p>
<p><strong>Most features are enabled by default</strong> for ease of use for newcomers / in
small hobby projects, but if you’re developing a library for others to use, it
is recommended that you disable them by adding <code>default-features = false</code>
<a href="https://doc.rust-lang.org/cargo/reference/features.html#dependency-features">to your <code>Cargo.toml</code></a>.</p>
<p>This can vastly help reduce the compile-time of the framework crates.</p>
<h3 id="file-features"><a class="doc-anchor" href="#file-features">§</a>File features</h3>
<p>Each framework C header corresponds to one Cargo feature, and everything that
was declared inside of that header is locked behind that Cargo feature.</p>
<p>As an example, let’s use <code>MetalKit</code>. This framework has four public C headers,
<code>MTKDefines.h</code>, <code>MTKModel.h</code>, <code>MTKTextureLoader.h</code> and <code>MTKView.h</code>. This in
turn means we get four Cargo features in <code>objc2-metal-kit</code>, <code>MTKDefines</code>,
<code>MTKModel</code>, <code>MTKTextureLoader</code> and <code>MTKView</code>, that enables the functionality
exposed by each of those headers, as well as any required dependency features
(e.g. <code>MTKModel.h</code> uses <code>MTLDevice</code>, so <code>objc2-metal/MTLDevice</code> is enabled for
you).</p>
<h3 id="dependency-features"><a class="doc-anchor" href="#dependency-features">§</a>Dependency features</h3>
<p>As you can see above, frameworks rarely stand alone, instead they often have
some sort of dependency on other frameworks. Some of these dependencies are
considered required, and enabled by default (often <code>objc2-foundation</code>), while
for some it makes sense to allow control of whether the dependency is enabled.</p>
<p>Let’s keep using <code>MetalKit</code> as the example. By default, <code>objc2-metal-kit</code> will
import the dependencies <code>objc2</code>, <code>objc2-foundation</code> and <code>objc2-metal</code>, since
those are central to how the <code>MetalKit</code> works.</p>
<p>But it also has an optional dependency on <code>objc2-app-kit</code> and <code>block2</code>, since
those are not always required; in this case, <code>objc2-app-kit</code> is only needed if
you want to use the <code>MTKView</code> class, so it would be wasteful to enable the
dependency if you didn’t need that class.</p>
<p>Such optional dependencies can be enabled with Cargo features of the same name
as the dependency.</p>
<h4 id="linking-and-minimum-version-compatibility"><a class="doc-anchor" href="#linking-and-minimum-version-compatibility">§</a>Linking and minimum version compatibility</h4>
<p>A few select dependency features are <strong>not</strong> enabled by default, as these
would raise the minimum supported version of your application. An example is
the <code>objc2-uniform-type-identifiers</code> dependency of the <code>objc2-app-kit</code> crate,
which was first introduced in macOS 11.0. If you want to use capabilities from
that framework in <code>objc2-app-kit</code>, you have to enable the feature manually.</p>
<p>(Note that this <em>could</em> also have been worked around by the user with the
<code>-weak_framework UniformTypeIdentifiers</code> linker flag, but that’s not very
discoverable, so <code>objc2</code> chooses to default to making your application
portable across the full set of versions that Rust supports).</p>
</div></details></section></div></main></body></html>